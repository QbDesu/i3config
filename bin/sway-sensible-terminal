#!/usr/bin/env sh
#
# This code is released in public domain by Qb <qb@qbit.moe>
# It's adapted from the popular i3-sensible-terminal script created by Han Boetes <han@mijncomputer.nl>
#
# This script tries to exec a terminal emulator by trying some known terminal
# emulators.
#
# We welcome patches that add distribution-specific mechanisms to find the
# preferred terminal emulator. On Debian, there is the x-terminal-emulator
# symlink for example.
#
# Invariants:
# 1. $TERMINAL must come first
# 3. The terminal emulator specified in the default sway config comes next.
# 4. Terminal emulators running natively in wayland come next. No order guaranteed/desired.
# 5. Popular terminal emulators running in Xwayland come last. No order guaranteed/desired.

for terminal in "$TERMINAL" foot mate-terminal gnome-terminal konsole alacritty kitty sakura roxterm wezterm ate germinal havoc wterm; do
    if command -v "$terminal" > /dev/null 2>&1; then
        exec "$terminal" "$@"
    fi
done
swaynag -m 'sway-sensible-terminal could not find a terminal emulator. Please install one.'
